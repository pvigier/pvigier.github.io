<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="Pierre Vigier">

        <title>Blog - pvigier's blog</title>
        <link rel="shortcut icon" href="/media/img/favicon.png">
        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <!-- My themes -->
        <link href="/media/css/style.css" rel="stylesheet">
        <link href="/media/css/syntax.css" rel="stylesheet">
        <link href="/media/css/modal.css" rel="stylesheet">
    </head>
    <body>
        <div class="blog-masthead">
            <div class="container">
                <nav class="blog-nav">
                    <a class="blog-nav-item active" href="/">Blog</a>
                    <a class="blog-nav-item" href="/articles">Articles</a>
                    <a class="blog-nav-item" href="/games">Games</a>
                    <!--<a class="blog-nav-item" href="/best-resources">Best Resources</a>-->
                    <a class="blog-nav-item" href="/resume">Resume</a>
                    <a class="blog-nav-item" href="/about">About</a>
                </nav>
            </div>
        </div>
        <div class="container">
            <div class="blog-header">
                <h1 class="blog-title">pvigier's blog</h1>
                <p class="lead blog-description">computer science, programming and other ideas</p>
            </div>
            <div class="row">
            <div class="col-sm-8 blog-main">

    <div class="blog-post">
        <h2 class="blog-post-title">Fractal Image Compression</h2>
        <p class="blog-post-meta">14 May 2018 by <a href="/">pierre</a></p>
        <p>One year ago, I coded a very simple implementation of fractal image compression for a course and I made the code available on github <a href="https://github.com/pvigier/fractal-image-compression">there</a>.</p>

<p>To my surprise, the repo is quite popular. So I decided to update the code and to write an article to explain the theory and the code.</p>


        <p><a href="/2018/05/14/fractal-image-compression.html">Read more ...</a></p>
    </div>

    <div class="blog-post">
        <h2 class="blog-post-title">Non empty destructors in C++</h2>
        <p class="blog-post-meta">15 Feb 2018 by <a href="/">pierre</a></p>
        <p>Have you already faced problems with non trivial destructors?</p>

<p>I face one recently which was really annoying. In this article, I want to share with you my knowledge of this problem and the solutions I use to address it.</p>

<h1 id="the-problem">The problem</h1>

<p>The problem is not really that the destructor is non empty but that the destructor is non trivial: there is a release of memory or some states are changed in another part of the app.</p>

<p>Let us take a very simple example with a class that does dynamic allocation to explain the problem:</p>

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">A</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
	<span class="n">A</span><span class="p">()</span> <span class="o">:</span> <span class="n">mPointer</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
	<span class="p">{</span>

	<span class="p">}</span>

	<span class="o">~</span><span class="n">A</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">delete</span> <span class="n">mPointer</span><span class="p">;</span>
	<span class="p">}</span>

<span class="k">private</span><span class="o">:</span>
	<span class="kt">int</span><span class="o">*</span> <span class="n">mPointer</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p>As we allocate an integer in the constructor, the natural solution for memory management is to free it in the destructor. However, this will have terrible consequences.</p>

<p>For instance, if we do this:</p>

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">A</span> <span class="n">a</span><span class="p">;</span>
	<span class="n">A</span> <span class="n">anotherA</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p>A <code class="highlighter-rouge">Segmentation fault</code> will occur.</p>

<p>Why?</p>

<p>Because when the <code class="highlighter-rouge">main</code> function ends, the destructor of <code class="highlighter-rouge">A</code> is called to delete <code class="highlighter-rouge">a</code> and <code class="highlighter-rouge">anotherA</code>. When <code class="highlighter-rouge">a</code> is destroyed the memory cell to which <code class="highlighter-rouge">a</code>’s <code class="highlighter-rouge">mPointer</code> points to is freed. Then, when <code class="highlighter-rouge">anotherA</code> is destroyed, we try to free the memory to which <code class="highlighter-rouge">anotherA</code>’s <code class="highlighter-rouge">mPointer</code> points to. But as <code class="highlighter-rouge">anotherA</code> is a copy of <code class="highlighter-rouge">a</code>, its <code class="highlighter-rouge">mPointer</code> points to the same memory cell as <code class="highlighter-rouge">a</code>’s <code class="highlighter-rouge">mPointer</code>. Thus we try to free twice the same memory cell which causes the <code class="highlighter-rouge">Segmentation fault</code>.</p>

<p>So the problem is that because of the copy the destructor is called twice on the same attributes.</p>

<p>Note that the copy or move constructors are often called when we use containers. For instance, there is a copy or a move when the <code class="highlighter-rouge">std::vector</code>’s <code class="highlighter-rouge">push_back</code> is called.</p>


        <p><a href="/2018/02/15/non-empty-destructors.html">Read more ...</a></p>
    </div>

    <div class="blog-post">
        <h2 class="blog-post-title">Circular dependencies in C++</h2>
        <p class="blog-post-meta">09 Feb 2018 by <a href="/">pierre</a></p>
        <p>Hi guys, it has been a while since the last post.</p>

<p>I write this short post to tell you about a small script I coded recently. You can find it <a href="https://github.com/pvigier/dependency-graph">here</a> on my github account.</p>

<p>Its goal is to draw the “include” dependencies between classes in a C++ project. In particular, it allows to detect circular dependencies very easily or to check the architecture of a project.</p>

<p>You can see the output of the script on a project of mine:</p>

<p><img src="https://github.com/pvigier/dependency-graph/raw/master/examples/example1.png" alt="Dependency graph" class="center-image modal-image" /></p>

<p>I really like this visual representation which allows to see how classes interact.</p>

<p>However, the true reason why I created this tool is not because I like to see beautiful graphs but because I hate circular dependencies (note that there is none in the graph above). I consider circular dependencies as design flaws. But sometimes in a large project, it could happen that accidentally I create circular dependencies …</p>


        <p><a href="/2018/02/09/dependency-graph.html">Read more ...</a></p>
    </div>

    <div class="blog-post">
        <h2 class="blog-post-title">Pychain Part 2 - Application: MNIST</h2>
        <p class="blog-post-meta">13 Aug 2017 by <a href="/">pierre</a></p>
        <p>In <a href="/2017/07/21/pychain-part1-computational-graphs.html">part 1</a>, we have created a fully functional library which is able to create and train neural networks using computational graphs. We used them on very simple examples. Today, we are going to try it on a more serious problem: character recognition.</p>

<p>We are going to use a well-known database in the machine learning and deep learning world named MNIST. The database is available on <a href="http://yann.lecun.com/exdb/mnist/">Yann LeCun’s website</a>. If you have read a bit about neural networks before you should have already seen his name. He is a French scientist who is one of the pioneers of neural networks and inventors of convolutional neural networks and he is now the director of AI at Facebook.</p>

<p>Character recognition is an emblematic problem for two reasons. Firstly, it is one of the first successes and industrial applications of neural networks. It was used since the 90’s to read checks. Secondly, computer vision has always been a leading application domain for neural networks.</p>

<p>In this part, we are going to briefly discover the MNIST database. Then, we are going to train some networks on it and finally, we are going to explore a bit how a neural network works.</p>


        <p><a href="/2017/08/13/pychain-part2-mnist.html">Read more ...</a></p>
    </div>

    <div class="blog-post">
        <h2 class="blog-post-title">Pychain Part 1 - Computational graphs</h2>
        <p class="blog-post-meta">21 Jul 2017 by <a href="/">pierre</a></p>
        <p>Welcome in this big tutorial on neural networks!</p>

<p>Our goal is to write our own deep learning framework like TensorFlow or Torch. We are going to learn in-depth how neural networks work, all the mechanics behind them.</p>

<p>We will get our hands dirty and code everything! In this tutorial, we will use Python3 and scipy but I hope that the code and the ideas are clear enough so that you can adapt the code to your favourite language.</p>

<p>First, I show you the plan. In this part, we are going to quickly introduce neural networks and then, we will introduce computational graphs in order to model them. In the end of this part, we are going to use our implementation to learn some non-linear functions.</p>

<p>In the second part, we will deal with a more serious problem. We are going to build an optical character recognition system upon the <a href="http://yann.lecun.com/exdb/mnist/">MNIST database</a>. It is a classical problem in machine learning, we have to do it.</p>

<p>Then, we will tackle recurrent neural networks and show how to model them with our library. To apply our new knowledge, we will try to learn a formal grammar generated by an automaton.</p>

<p>In part 4, we will go further with recurrent neural networks and introduce the well-known LSTM cell. We will briefly compare it with fully-connected recurrent neural networks.</p>

<p>To approach part 6, some more efficient optimization algorithms are necessary. Consequently we will discuss them in part 5.</p>

<p>Have you ever read <a href="http://karpathy.github.io/2015/05/21/rnn-effectiveness/">this fabulous article</a> by Andrej Karpathy? Yes? Cool, because, we are going to reproduce his results with our own library in part 6. Amazing, isn’t it?</p>

<p>Finally, parts 7 and 8 are going to be theoretical appendices for the most curious readers.</p>

<p>Is it all? Maybe not! Stay tuned!</p>

<p>If you are ready, let’s go!</p>


        <p><a href="/2017/07/21/pychain-part1-computational-graphs.html">Read more ...</a></p>
    </div>

<nav>
    <ul class="pager">
        
        <li><span>Previous</span></li>
        
        
        <li><a href="/2/">Next</a></li>
        
    </ul>
</nav>

</div><!-- /.blog-main -->
<div class="col-sm-3 col-sm-offset-1 blog-sidebar">
    <div class="sidebar-module">
        <h4>Archives</h4>
        <ol class="list-unstyled">
        
            
            
            <li id="yMay 2018"><a href="/2018/05">May 2018</a></li>
             
            
        
            
            
            <li id="yFebruary 2018"><a href="/2018/02">February 2018</a></li>
             
            
        
            
            
        
            
            
            <li id="yAugust 2017"><a href="/2017/08">August 2017</a></li>
             
            
        
            
            
            <li id="yJuly 2017"><a href="/2017/07">July 2017</a></li>
             
            
        
            
            
            <li id="yFebruary 2017"><a href="/2017/02">February 2017</a></li>
             
            
        
        </ol>
    </div>
    <div class="sidebar-module">
        <h4>Follow me</h4>
        <ol class="list-unstyled">
            <li><a href="https://github.com/pvigier">GitHub</a></li>
            <li><a href="https://twitter.com/PierreVigier">Twitter</a></li>
            <li><a href="/rss.xml">RSS</a></li>
        </ol>
    </div>
</div><!-- /.blog-sidebar -->
            </div><!-- /.row -->
        </div><!-- /.container -->

        <footer class="blog-footer">
            <p>Powered by <a href="http://getbootstrap.com">Bootstrap</a> and <a href="http://jekyllrb.com">Jekyll</a>.</p>
            <p>
                <a href="#">Back to top</a>
            </p>
        </footer>
        <!-- Javascript -->
        <!-- jQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <!-- Bootstrap -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <!-- MathJax -->
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
        <!-- Analytics -->
        <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-30902264-4', 'auto');
        ga('send', 'pageview');
        </script>
        <!-- Modal images -->
        <script src="/media/js/modal.js"></script>
    </body>
</html>
